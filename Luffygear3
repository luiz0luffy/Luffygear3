do
    -- Anti re-inject
    if _G.__LUFFY_G3 then return end
    _G.__LUFFY_G3 = true

    local ok = true

    -- Integridade leve (não depende de debug/hook)
    local mark = tostring(game):len() * 7
    task.delay(1, function()
        if tostring(game):len() * 7 ~= mark then
            ok = false
        end
    end)

    -- Ambiente mínimo válido
    local Players = game:GetService("Players")
    local lp = Players.LocalPlayer
    if not lp then ok = false end

    if not ok then
        task.spawn(function()
            while true do task.wait() end
        end)
        return
    end
end
